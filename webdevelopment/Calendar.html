<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Calendar</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="nav.css">
        <link rel="stylesheet" href="./CSS/aos.css">
        <link rel="icon" type="image/x-icon" href="Images/icons/favicon.ico">
        <script src="script.js" defer></script>
        <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body>
        <div id="preloader">
            <div class="column column1"></div>
            <div class="column column2"></div>
            <div class="column column3"></div>
            <div class="column column4"></div>
            <img src="Images/logo.png" alt="Logo" class="preloader-logo" />
        </div>
    
        <!-- Header -->
        <header>
            <div id="slideshow-container">
                <div class="slideshow-bg bg1"></div>
                <div class="slideshow-bg bg2"></div>
                <div class="slideshow-bg bg3"></div>
                <div class="slideshow-bg bg4"></div>
                <div class="header">
                    <img src="./Images/logo.png" alt="logo">
                </div>
            </div>
        </header>
    
        <!-- Navigation -->
        <nav>
            <input type="checkbox" id="toggle-menu" class="hamburger-menu">
            <label for="toggle-menu" class="hamburger-menu-icon">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </label>
            <ul class="navbarul">
                <li class="home"><a href="index.html">Home</a></li>
                <li class="about"><a href="About.html">About Me</a></li>
                <li class="dropdown">
                    <a href="Projects_Combined.html"  class="dropbtn">Projects</a>
                    <div class="dropdown-content" name="nav-drop">
                        <a href="Projects_Combined.html#project1">Project 1</a>
                        <a href="Projects_Combined.html#project2">Project 2</a>
                        <a href="Projects_Combined.html#project3">Project 3</a>
                        <a href="Projects_Combined.html#exampleslist">Example Sites</a>
                    </div>
                </li>
                <li class="calendar"><a href="Calendar.html" class="active">Calendar</a></li>
                <li class="reflect"><a href="Reflection.html">Reflection</a></li>
                <li class="contact"><a href="Contact.html">Contact</a></li>
                <div class="dark-toggle-container">
                    <label class="theme-toggle">
                    <input type="checkbox" id="theme-toggle">
                    <span class="toggle-slider"></span>
                    </label>
                </div>
            </ul>
        </nav>

        <!-- Main -->
        <main>
            <section class="bg-[#f7faff] min-h-screen flex items-center justify-center p-4">
                <div class="w-full max-w-6xl bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between mb-6">
                        <div class="inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-muted-foreground">
                            <button type="button" data-view="Month"
                                class="view-switch inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:shadow-sm">Month</button>
                            <button type="button" data-view="Week"
                                class="view-switch inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:shadow-sm">Week</button>
                            <button type="button" data-view="Day"
                                class="view-switch inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:shadow-sm">Day</button>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button id="prev-month"
                                class="inline-flex items-center justify-center gap-2 text-sm font-medium h-9 rounded-md px-3 hover:bg-blue-50 hover:text-blue-600"
                                aria-label="Previous">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m15 18-6-6 6-6" />
                                </svg>
                            </button>
                            <div id="current-month-label" class="text-lg font-semibold text-gray-800">Month</div>
                            <button id="next-month"
                                class="inline-flex items-center justify-center gap-2 text-sm font-medium h-9 rounded-md px-3 hover:bg-blue-50 hover:text-blue-600"
                                aria-label="Next">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m9 18 6-6-6-6" />
                                </svg>
                            </button>
                        </div>
                    </div>
                
                    <div class="weekday-headers grid grid-cols-7 text-center text-sm text-gray-500 font-medium mb-2">
                        <div>Sun</div>
                        <div>Mon</div>
                        <div>Tue</div>
                        <div>Wed</div>
                        <div>Thu</div>
                        <div>Fri</div>
                        <div>Sat</div>
                    </div>
                
                    <div id="calendar-grid" class="grid grid-cols-7 gap-2">
                        <!-- Days will be injected here -->
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Footer -->
        <footer class="footer reflexive">
            <div class="footer-slideshow-container">
                <div class="footer-slideshow-bg bg1"></div>
                <div class="footer-slideshow-bg bg2"></div>
                <div class="footer-slideshow-bg bg3"></div>
                <div class="footer-slideshow-bg bg4"></div>
            </div>
            <div class="footer-container">
                <div class="footer-column">
                    <h3>Phone</h3>
                    <p><span><img src="Images/icons/phone_icon.png" alt="Phone Icon" class="footer-icon"></span>: 812-480-4387</p>
                </div>
                <div class="footer-column">
                    <h3>Email</h3>
                    <p><span><img src="Images/icons/email_icon.png" alt="Email Icon" class="footer-icon"></span>: Emwuerth216@gmail.com</p>
                    <p><span><img src="Images/icons/email_icon.png" alt="Email Icon" class="footer-icon"></span>: Emwcd7@umsystem.edu</p>
                </div>
                <div class="footer-column">
                    <h3>Follow Me</h3>
                    <p>
                        <button class="linkedIn"><a href="https://www.linkedin.com/in/eliwuerth/" target="_blank"><img src="./Images/icons/InBug-White.png" alt="logo" class="footer-icon"></a></button>
                        <button class="linkedIn"><a href="https://github.com/EliWuerth" target="_blank"><img src="./Images/icons/github-mark-white.png" alt="logo" class="footer-icon"></a></button>
                    </p>
                </div>
                <div class="footer-column">
                    <h3>Copyright</h3>
                    <p>&copy; 2025 Eli Wuerth. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <!-- Script -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const calendarGrid = document.getElementById("calendar-grid");
                const monthLabel = document.getElementById("current-month-label");
                const prevBtn = document.getElementById("prev-month");
                const nextBtn = document.getElementById("next-month");
                const viewButtons = document.querySelectorAll(".view-switch");

                let currentDate = new Date();
                let currentView = "Month";

                function getDateKey(date) {
                    return date.toISOString().split("T")[0];
                }

                function renderCalendar(view = "Month") {
                    calendarGrid.innerHTML = "";
                    currentView = view;
                    const year = currentDate.getFullYear();
                    const month = currentDate.getMonth();
                    const firstDay = new Date(year, month, 1);
                    const startDate = new Date(firstDay);
                    startDate.setDate(startDate.getDate() - startDate.getDay());

                    monthLabel.textContent = firstDay.toLocaleDateString('default', { month: 'long', year: 'numeric' });

                    let numDays = view === "Month" ? 35 : view === "Week" ? 7 : 1;
                    for (let i = 0; i < numDays; i++) {
                        const day = new Date(startDate);
                        day.setDate(startDate.getDate() + i);
                        const isToday = getDateKey(day) === getDateKey(new Date());
                        const inMonth = day.getMonth() === currentDate.getMonth();

                        const cell = document.createElement("div");
                        cell.className = `
                            rounded-xl p-3 text-sm text-left border 
                            ${inMonth ? "bg-white text-gray-900" : "bg-gray-50 text-gray-400"} 
                            ${isToday ? "ring-2 ring-blue-500" : "border-gray-200"} 
                            hover:shadow transition`;
                        const dayNum = document.createElement("div");
                        dayNum.className = "font-semibold mb-1";
                        dayNum.textContent = day.getDate();

                        const content = document.createElement("div");
                        content.className = "text-xs text-gray-400";
                        content.textContent = "No events";

                        cell.appendChild(dayNum);
                        cell.appendChild(content);
                        calendarGrid.appendChild(cell);
                    }
                }

                prevBtn.addEventListener("click", () => {
                    currentDate.setMonth(currentDate.getMonth() - 1);
                    renderCalendar(currentView);
                });

                nextBtn.addEventListener("click", () => {
                    currentDate.setMonth(currentDate.getMonth() + 1);
                    renderCalendar(currentView);
                });

                viewButtons.forEach(btn =>
                    btn.addEventListener("click", () => {
                        viewButtons.forEach(b => b.classList.remove("bg-gray-200", "text-gray-900"));
                        btn.classList.add("bg-gray-200", "text-gray-900");
                        renderCalendar(btn.dataset.view);
                    })
                );

                renderCalendar("Month");
            });
        </script>
    </body>
</html>